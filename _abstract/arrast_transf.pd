#N canvas 355 275 523 230 16;
#X obj 50 30 cnv 15 185 117 empty empty empty 20 12 0 14 -128992 -66577
0;
#X obj 63 40 hsl 160 15 0 1 0 0 \$0-transp_gui \$0-transp_gui_set empty
-2 -8 0 10 -4032 -1 -1 15900 1;
#X obj 63 61 hsl 160 10 0 1 0 0 \$0-white_gui \$0-white_gui_set empty
-2 -8 0 10 -262144 -1 -1 15900 1;
#X obj 63 71 hsl 160 10 0 1 0 0 \$0-black_gui \$0-black_gui_set empty
-2 -8 0 10 -1 -262144 -1 0 1;
#X obj 63 88 hsl 160 8 0 1 0 0 \$0-fadeIn_gui \$0-fadeIn_gui_set empty
-2 -8 0 10 -191407 -1 -1 0 1;
#X obj 63 96 hsl 160 8 0 1 0 0 \$0-fadeOut_gui \$0-fadeOut_gui_set
empty -2 -8 0 10 -191407 -1 -1 15900 1;
#X obj 60 122 tgl 15 0 \$0-flipH_gui \$0-flipH_gui_set H 5 -7 0 10
-262144 -1 -262144 0 1;
#X obj 80 122 tgl 15 0 \$0-flipV_gui \$0-flipV_gui_set V 5 -7 0 10
-262144 -1 -262144 0 1;
#X obj 117 122 nbx 2 14 0 10 0 0 \$0-scale_gui \$0-scale_gui_set S
10 -7 0 10 -262144 -1 -262144 1 256;
#X obj 149 122 nbx 3 14 -10 10 0 0 \$0-posX_gui \$0-posX_gui_set X
14 -7 0 10 -262144 -1 -262144 0 256;
#X obj 189 122 nbx 3 14 -10 10 0 0 \$0-posY_gui \$0-posY_gui_set Y
14 -7 0 10 -262144 -1 -262144 0 256;
#X obj 101 127 bng 10 250 50 0 \$0-reset_gui \$0-reset_gui_set empty
17 7 0 10 -262144 -1 -1;
#N canvas 208 223 772 185 FADE 0;
#N canvas 130 200 579 269 DATA_IN 0;
#X obj 43 62 r V\$1_TO_FADE;
#X floatatom 43 179 5 0 0 0 - - -, f 5;
#X floatatom 163 179 5 0 0 0 - - -, f 5;
#X floatatom 403 179 10 0 0 0 - - -, f 10;
#X obj 43 205 s \$0-cursor;
#X obj 163 205 s \$0-modulo;
#X obj 283 205 s \$0-offset;
#X floatatom 283 179 5 0 0 0 - - -, f 5;
#X obj 43 150 f;
#X obj 163 150 f;
#X obj 283 150 f;
#X obj 403 150 f;
#X obj 403 205 s \$0-frameDur;
#X text 79 19 ** RECEIVES DATA FROM VIDEO REPRODUCTION;
#X obj 43 106 route cursor modulo offset frameDur;
#X connect 0 0 14 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 12 0;
#X connect 7 0 6 0;
#X connect 8 0 1 0;
#X connect 9 0 2 0;
#X connect 10 0 7 0;
#X connect 11 0 3 0;
#X connect 14 0 8 0;
#X connect 14 1 9 0;
#X connect 14 2 10 0;
#X connect 14 3 11 0;
#X restore 48 65 pd DATA_IN;
#N canvas 150 239 689 370 IO_RELATION 0;
#X obj 45 232 spigot;
#X obj 45 160 t f f;
#X obj 383 232 spigot;
#X obj 383 160 t f f;
#X obj 45 119 r \$0-fadeIn;
#X obj 181 119 r \$0-fadeOut;
#X obj 383 119 r \$0-fadeOut;
#X obj 531 119 r \$0-fadeIn;
#X msg 383 267 set \$1 \, bang;
#X obj 440 198 <;
#X obj 102 198 >;
#X obj 45 311 s \$0-fadeOut_gui_set;
#X msg 45 267 set \$1 \, bang;
#X obj 383 311 s \$0-fadeIn_gui_set;
#X text 43 29 ** MANAGES THE RELATION BETWEEN INPUT AND OUTPUT OF FADE
- ENSURING THAT THE FADE ENDING NODE IS LESS OR THE SAME AS THE BEGINNING
NODE OF THE FADE OUT;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 1 1 10 0;
#X connect 2 0 8 0;
#X connect 3 0 2 0;
#X connect 3 1 9 0;
#X connect 4 0 1 0;
#X connect 5 0 10 1;
#X connect 6 0 3 0;
#X connect 7 0 9 1;
#X connect 8 0 13 0;
#X connect 9 0 2 1;
#X connect 10 0 0 1;
#X connect 12 0 11 0;
#X restore 48 95 pd IO_RELATION;
#N canvas 200 138 791 546 CONTROL 0;
#X text 202 22 ** ENGINE OF TRANSPARENCY AUTOMATION;
#X obj 52 64 r \$0-cursor;
#X obj 119 101 r \$0-offset;
#X obj 52 154 -;
#X obj 119 130 t b f;
#X obj 52 183 - 1;
#X obj 52 230 tabread \$0-fadeCurve;
#X obj 129 343 r \$0-frameDur;
#X obj 52 373 pack f f;
#X obj 52 407 line;
#X text 104 408 SOFTEN AUTOMATION WITH RAMP WITHIN 1 FRAME TIME;
#X text 265 231 READING OF THE FADES CURVE;
#X obj 147 271 r \$0-transp;
#X obj 52 324 *;
#X text 231 301 SCALE CURVE ACCORDING TO THE TRANSPARENCY THRESHOLD
;
#N canvas 144 104 865 657 CURVE_ARRAY 0;
#N canvas 369 119 444 482 RAMP_GEN 0;
#X obj 133 176 until;
#X obj 133 205 f;
#X obj 133 234 + 1;
#X obj 49 89 unpack f f;
#X obj 133 263 / 1;
#X obj 133 352 list prepend;
#X obj 213 381 list;
#X obj 96 381 list;
#X obj 133 290 - 1;
#X obj 133 319 abs;
#X obj 240 113 t f f;
#X obj 175 205 f 0;
#X obj 240 147 sel 0 1;
#X msg 240 181 -1;
#X msg 280 181 0;
#X obj 49 52 inlet;
#X obj 96 420 outlet;
#X obj 96 147 t b f b f b;
#X obj 49 118 sel 0;
#X text 138 24 ** GENERATES RAMP BETWEEN 0-1/1-0 WITH N NUMBERS, f
27;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 2 0 4 0;
#X connect 3 0 18 0;
#X connect 3 1 10 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 5 0 7 1;
#X connect 6 0 5 1;
#X connect 7 0 16 0;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 12 0;
#X connect 10 1 8 1;
#X connect 11 0 1 1;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 11 1;
#X connect 14 0 11 1;
#X connect 15 0 3 0;
#X connect 17 0 7 0;
#X connect 17 1 0 0;
#X connect 17 2 11 0;
#X connect 17 3 4 1;
#X connect 17 4 5 1;
#X connect 18 1 17 0;
#X restore 295 491 pd RAMP_GEN;
#N canvas 280 159 398 334 1_GEN 0;
#X obj 43 76 inlet;
#X obj 80 144 until;
#X obj 80 202 list prepend;
#X obj 160 231 list;
#X obj 43 231 list;
#X obj 43 271 outlet;
#X obj 43 115 t b f b;
#X msg 80 173 1;
#X text 36 33 ** GENERATES N NUMBERS 1 IN LIST;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 1 1 0;
#X connect 6 2 2 1;
#X connect 7 0 2 0;
#X restore 200 491 pd 1_GEN;
#X obj 155 564 list;
#X obj 38 564 list;
#X obj 38 358 t b b b b b;
#X obj 295 428 f;
#X obj 75 428 f;
#X obj 200 428 f;
#X floatatom 102 404 5 0 0 0 - - -, f 5;
#X floatatom 227 404 5 0 0 0 - - -, f 5;
#X floatatom 322 404 5 0 0 0 - - -, f 5;
#X obj 39 71 r \$0-fadeIn;
#X obj 39 163 *;
#X obj 39 192 int;
#X obj 254 163 *;
#X obj 254 192 int;
#X obj 296 110 r \$0-modulo;
#X obj 207 71 r \$0-fadeOut;
#X obj 254 221 -;
#X obj 254 250 abs;
#X obj 227 309 +;
#X obj 227 338 -;
#X obj 227 367 abs;
#X obj 254 279 t f f;
#X obj 38 221 t b f f;
#X obj 38 603 array set \$0-fadeCurve;
#X obj 207 100 t b f;
#X obj 295 459 pack 0 1;
#X obj 75 459 pack 0 0;
#N canvas 288 187 432 477 RAMP_GEN 0;
#X obj 133 176 until;
#X obj 133 205 f;
#X obj 133 234 + 1;
#X obj 49 89 unpack f f;
#X obj 133 263 / 1;
#X obj 133 352 list prepend;
#X obj 213 381 list;
#X obj 96 381 list;
#X obj 133 290 - 1;
#X obj 133 319 abs;
#X obj 240 113 t f f;
#X obj 175 205 f 0;
#X obj 240 147 sel 0 1;
#X msg 240 181 -1;
#X msg 280 181 0;
#X obj 49 52 inlet;
#X obj 96 420 outlet;
#X obj 96 147 t b f b f b;
#X obj 49 118 sel 0;
#X text 138 24 ** GENERATES RAMP BETWEEN 0-1/1-0 WITH N NUMBERS, f
27;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 2 0 4 0;
#X connect 3 0 18 0;
#X connect 3 1 10 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 5 0 7 1;
#X connect 6 0 5 1;
#X connect 7 0 16 0;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 12 0;
#X connect 10 1 8 1;
#X connect 11 0 1 1;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 11 1;
#X connect 14 0 11 1;
#X connect 15 0 3 0;
#X connect 17 0 7 0;
#X connect 17 1 0 0;
#X connect 17 2 11 0;
#X connect 17 3 4 1;
#X connect 17 4 5 1;
#X connect 18 1 17 0;
#X restore 75 491 pd RAMP_GEN;
#X obj 75 535 list append;
#X text 421 493 GENERATE RAMPS FOR ARRAY;
#X obj 443 250 array define \$0-fadeCurve 100;
#X msg 443 172 resize \$1;
#X text 441 279 ARRAY WITH FADE IN AND FADE OUT CURVES;
#X obj 296 139 t b b f f f f f;
#X text 547 173 RESCALE TABLE WITH MODULE;
#X text 221 23 ** GENERATES ARRAY OF FADE IN/OUT CURVE;
#X connect 0 0 30 0;
#X connect 1 0 30 0;
#X connect 2 0 30 1;
#X connect 3 0 25 0;
#X connect 4 0 3 0;
#X connect 4 1 6 0;
#X connect 4 2 7 0;
#X connect 4 3 5 0;
#X connect 4 4 30 1;
#X connect 5 0 27 0;
#X connect 6 0 28 0;
#X connect 7 0 1 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 5 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 24 0;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 16 0 35 0;
#X connect 17 0 26 0;
#X connect 18 0 19 0;
#X connect 19 0 23 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 9 0;
#X connect 23 0 20 1;
#X connect 23 1 10 0;
#X connect 24 0 4 0;
#X connect 24 1 8 0;
#X connect 24 2 20 0;
#X connect 26 0 12 0;
#X connect 26 1 14 0;
#X connect 27 0 0 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 2 0;
#X connect 30 0 3 1;
#X connect 33 0 32 0;
#X connect 35 0 12 0;
#X connect 35 1 14 0;
#X connect 35 2 12 1;
#X connect 35 3 14 1;
#X connect 35 4 18 1;
#X connect 35 5 21 1;
#X connect 35 6 33 0;
#X restore 323 101 pd CURVE_ARRAY;
#X text 93 185 ADJUST TO TABLE INDEX;
#X text 476 102 TABLE OF FADE CURVES;
#N canvas 226 211 707 235 TO_2_INSTANCE 0;
#X obj 47 138 list prepend T\$1;
#X obj 47 96 list prepend transp;
#X obj 267 60 r \$0-white;
#X obj 477 60 r \$0-black;
#X obj 267 96 list prepend white;
#X obj 477 96 list prepend black;
#X obj 47 60 inlet;
#X text 165 13 ** PASS CONTROLS TO 2nd INSTANCE;
#X obj 47 182 s TRANSF_BUS;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X restore 52 495 pd TO_2_INSTANCE;
#N canvas 220 266 607 281 GATE 0;
#X obj 45 128 f;
#X obj 45 177 spigot;
#X obj 45 226 outlet;
#X obj 222 143 == 0;
#X obj 165 128 f;
#X obj 165 177 spigot;
#X obj 316 70 r V\$1_ST;
#X obj 316 104 t b b f f;
#X obj 45 70 inlet FADE;
#X obj 165 70 inlet TRANSP;
#X text 417 65 STATE OF VIDEO UNIT, f 10;
#X text 241 179 VIDEO ON: PASS FADE VIDEO OFF: PASS TRANSPARENCY DIRECTLY
, f 19;
#X text 43 24 ** ROUTING ACCORDING TO THE STATE OF THE VIDEO UNIT;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 7 1 4 0;
#X connect 7 2 1 1;
#X connect 7 3 3 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X restore 52 451 pd GATE;
#X obj 147 300 t b f f;
#X text 135 451 ROUTING ACCORDING TO THE STATE OF THE VIDEO UNIT;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 19 0;
#X connect 12 0 20 0;
#X connect 13 0 8 0;
#X connect 19 0 18 0;
#X connect 20 0 13 0;
#X connect 20 1 13 1;
#X connect 20 2 19 1;
#X restore 48 125 pd CONTROL;
#X text 175 66 RECEIVE DATA FROM THE VIDEO PLAYBACK;
#X text 215 96 MANAGE THE RELATION BETWEEN INPUT AND OUTPUT OF FADE
;
#X text 176 126 TRANSPARENCY AUTOMATION ENGINE;
#X text 180 21 ** MANAGES FADE IN AND FADE OUT ENGINE;
#X restore 280 98 pd FADE;
#N canvas 316 174 554 290 RESET 0;
#X msg 53 98 1;
#X msg 257 98 0;
#X obj 257 142 s \$0-posX_gui_set;
#X obj 257 172 s \$0-posY_gui_set;
#X obj 257 202 s \$0-flipH_gui_set;
#X obj 257 232 s \$0-flipV_gui_set;
#X obj 53 62 r \$0-reset_gui;
#X obj 53 142 s \$0-scale_gui_set;
#X text 33 19 ** RESTARTS PARAMETERS FROM THE INTERFACE BUTTON;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 4 0;
#X connect 1 0 5 0;
#X connect 6 0 0 0;
#X connect 6 0 1 0;
#X restore 280 132 pd RESET;
#N canvas 316 201 685 297 LINKS 0;
#X obj 46 203 list prepend T\$1;
#X obj 250 67 r \$0-posX;
#X obj 454 67 r \$0-posY;
#X obj 454 145 r \$0-flipV;
#X obj 250 145 r \$0-flipH;
#X obj 46 67 r \$0-scale;
#X obj 46 101 list prepend scale;
#X obj 46 243 s TRANSF_BUS;
#X obj 250 101 list prepend posX;
#X obj 454 101 list prepend posY;
#X obj 250 179 list prepend flipH;
#X obj 454 179 list prepend flipV;
#X text 153 21 ** SENDS CONTROLS TO 2nd INSTANCE;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 2 0 9 0;
#X connect 3 0 11 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X connect 11 0 0 0;
#X restore 280 166 pd LINKS;
#N canvas 343 207 524 291 EXTERNAL_CONTROL 0;
#X text 213 137 FILTER BY CHANNEL;
#X text 213 170 FILTER BY MODULE;
#X obj 48 234 s \$0-externalControl;
#X text 265 235 SEND CONTROLS LOCALLY;
#X obj 48 136 route channel\$1;
#X obj 48 72 r OSC_BUS;
#X text 43 19 ** EXTERNAL CONTROL ROUTER VIA OSC MESSAGES;
#X text 153 69 RECEIVE UNPACKED OSC BY MAIN PATCH, f 29;
#X obj 48 170 route transform;
#X connect 4 0 8 0;
#X connect 5 0 4 0;
#X connect 8 0 2 0;
#X restore 280 30 pd EXTERNAL_CONTROL;
#N canvas 325 190 601 379 CONTROL_MEMORY 0;
#N canvas 179 174 967 411 PRESET_MANAGER 0;
#X obj 42 283 list trim;
#X obj 42 67 r CH\$1_FLUSH;
#X obj 42 330 s CH\$1_PRESET;
#X obj 42 132 s \$0-slotFlush;
#X obj 42 217 r \$0-slotList;
#X obj 42 100 t b;
#X text 189 216 RECEIVE DATA FROM SLOTS;
#X text 39 359 SEND TO GLOBAL PRESETS MANAGER;
#X obj 461 67 r MAIN_PRESET_SEND;
#X obj 508 134 route \$1;
#X text 604 134 ROUTE BY CHANNEL;
#X obj 508 204 s \$0-slotFilePreset;
#X text 656 64 RECEIVE MEMORY FROM GLOBAL PRESET, f 19;
#X text 505 233 SEND DATA TO SLOTS;
#X text 39 162 REQUEST DATA FROM SLOTS;
#X obj 42 250 list prepend transf;
#X obj 508 164 route transf;
#X obj 461 96 t b a;
#X text 665 306 UPDATE ACTIVE SLOT LOCALLY;
#X obj 461 275 del 10;
#X obj 461 305 s \$0-slotLocalFlush;
#X text 134 19 ** MANAGES COMMUNICATION BETWEEN SLOTS AND GLOBAL MANAGER
OF PRESETS, f 68;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 4 0 15 0;
#X connect 5 0 3 0;
#X connect 8 0 17 0;
#X connect 9 0 16 0;
#X connect 15 0 0 0;
#X connect 16 0 11 0;
#X connect 17 0 19 0;
#X connect 17 1 9 0;
#X connect 19 0 20 0;
#X restore 339 84 pd PRESET_MANAGER;
#X text 47 56 LOCAL MEMORY SLOTS;
#X obj 48 84 arrast_transfslot \$0 \$1 1;
#N canvas 281 191 388 341 ACTIVE_SLOT 0;
#X obj 48 89 r V\$1_ACTIVE_SLOT;
#X obj 48 129 r I\$1_ACTIVE_SLOT;
#X obj 48 282 s \$0-activeSlot;
#X obj 48 160 f;
#X text 212 283 SEND LOCALLLY;
#X obj 48 238 f;
#X text 134 173 UPDATE ACTIVE SLOT;
#X obj 136 199 r \$0-slotLocalFlush;
#X text 46 27 ** RECEIVES ACTIVE SLOT FROM VIDEO AND IMAGE MODULES
, f 32;
#X connect 0 0 3 0;
#X connect 1 0 3 0;
#X connect 3 0 5 0;
#X connect 5 0 2 0;
#X connect 7 0 5 0;
#X restore 339 152 pd ACTIVE_SLOT;
#X text 164 17 ** LOCAL MEMORY MANAGEMENT;
#N canvas 264 189 522 423 AUTOMATION_MANAGER 0;
#X text 36 19 ** LOCAL MANAGEMENT OF THE AUTOMATION SYSTEM;
#X text 46 59 AUTOMATION UNITS BY PARAMETER;
#X obj 48 93 arrast_automato \$0 transp \$1 0 21;
#X obj 48 123 arrast_automato \$0 white \$1 0 22;
#X obj 48 153 arrast_automato \$0 black \$1 0 23;
#X obj 48 183 arrast_automato \$0 fadeIn \$1 0 24;
#X obj 48 213 arrast_automato \$0 fadeOut \$1 0 25;
#X obj 48 243 arrast_automato \$0 flipH \$1 0 26;
#X obj 48 273 arrast_automato \$0 flipV \$1 0 27;
#X obj 48 303 arrast_automato \$0 scale \$1 0 28;
#X obj 48 333 arrast_automato \$0 posX \$1 0 29;
#X obj 48 363 arrast_automato \$0 posY \$1 0 30;
#X restore 339 118 pd AUTOMATION_MANAGER;
#X obj 48 118 arrast_transfslot \$0 \$1 2;
#X obj 48 152 arrast_transfslot \$0 \$1 3;
#X obj 48 186 arrast_transfslot \$0 \$1 4;
#X obj 48 220 arrast_transfslot \$0 \$1 5;
#X obj 48 254 arrast_transfslot \$0 \$1 6;
#X obj 48 288 arrast_transfslot \$0 \$1 7;
#X obj 48 322 arrast_transfslot \$0 \$1 8;
#X restore 280 64 pd CONTROL_MEMORY;
#X coords 0 -1 1 1 185 117 2 50 30;
